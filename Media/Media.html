<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shre Krishna Medical</title>
<style>

body{
    margin: 50px;
}

#container{
    margin: 0px auto;
    width: 500px;
    height: 375px;
    border: 10px #333 solid;
}

#videoElement{
    width: 500px;
    height: 375px;
    background-color: #666;
}

</style>

</head>

<body>
    <h1>Display Webcam Stream</h1>
    <div id="container">
        <video autoplay="true" id="videoElement"></video>
    </div>
	
    <script>
        let video = document.querySelector("#videoElement");

        startWebCam()
        

        async function startWebCam() {
            
            try{
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                video.srcObject = stream;
                video.onloadedmetadata = function(e) {
                    video.play();
                };
                //window.stream = stream;
            }catch(e){
                console.log(e.toString());
            }
        }

        // if (navigator.mediaDevices.getUserMedia) {

        //     //console.log(navigator.mediaDevices.getUserMedia);
        //     navigator.mediaDevices.getUserMedia({ video: true, audio: true })
        //         .then(function (stream) {
        //             video.srcObject = stream;
        //         })
        //         .catch (function (error) {
        //             console. log("Something went wrong!");
        //         })
        // }else {
        //     console. log("getUserMedia not supported!");
        // }
    </script>

</body>

</html>
